\documentclass[11pt]{article}

\usepackage{hyperref}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{mathrsfs}
\usepackage[arrow]{xy}

\pagestyle{headings}

\theoremstyle{definition}
\newtheorem*{defn}{Definition}

\theoremstyle{definition}
\newtheorem{ex}{Example}

\theoremstyle{plain}
\newtheorem{theo}{Theorem}

\theoremstyle{plain}
\newtheorem{prop}{Proposition}

\theoremstyle{plain}
\newtheorem{lem}{Lemma}

\begin{document}

\author{Stephen Liu}
\title{The Yoneda Lemma}
\date{June 18, 2018}

\maketitle

\begin{abstract}
Some notes on the Yoneda Lemma, starting with the notion of representable functors.
\end{abstract}

\subsection*{Representable Functors}

We first define a \emph{prototype} of a representable functor out of a locally small category $\mathscr{A}$.

\begin{defn}
Let $\mathscr{A}$ be a locally small category, and fix $A \in \mathscr{A}$. Define the functor $H^{A}=\mathscr{A}(A, -): \mathscr{A} \to \textbf{Set}$ by the following mapping on

\begin{enumerate}
\item \textbf{objects}: For $B \in \mathscr{A}$, define $H^{A}(B) = \mathscr{A}(A,B)$, the hom-set of arrows in $\mathscr{A}$ from $A$ to $B$.
\item \textbf{morphisms}: For $g:B \to B'$, define $H^{A}(g) = \mathscr{A}(A, g): \mathscr{A}(A,B) \to \mathscr{A}(A,B')$ by $p \mapsto g \circ p$ for all $p : A \to B$, sending morphisms from $A$ to $B$ to morphisms from $A$ to $B'$ by post-composition with $g$.
\end{enumerate}
\end{defn}

This is the covariant version of $H$, there is a contravariant version, denoted $H_{A}$ which does pre-composition instead.

From this prototype of a representable functor, we can now define representable functors:

\begin{defn}[Representable Functor]
Let $\mathscr{A}$ be a locally small category. A functor $X:\mathscr{A} \to \textbf{Set}$ is representable if $X$ is naturally isomorphic to $H^{A}$ for some $A \in \mathscr{A}$. A representation of $X$ is a choice of an object $A$ along with a natural isomorphism from $H^{A}$ to $X$.
\end{defn}

Some examples of representable functors:

\begin{ex}[group $G$ regarded as a one object category]
Regarding a group $G$ as a one object category $\mathscr{G}$, with object $\ast$, $H^{\ast}=\ast(\ast, -): \mathscr{G} \to \textbf{Set}$ is a functor which maps
\begin{enumerate}
\item \textbf{objects}: There is only one object in $\mathscr{G}$, and $H^{\ast}(\ast)$ is the set of mappings from $\ast$ to $\ast$, otherwise known as the elements of the group $G$. So $H^{\ast}(\ast) \cong U(G)$ where $U:\textbf{Grp} \to \textbf{Set}$ is the forgetful functor that returns the underlying set of a group.
\item \textbf{morphisms}: Let $g \in G$, then $H^{\ast}(g)$ maps any element $h$ of $G$ to $g \circ h$, which, interpreted in the context of a group is just group mulitiplication on the left, i.e. $gh$.
\end{enumerate}

Since $\mathscr{G}$ has only one object, there is only one representable functor on it (up to isomorphism), and the representable is the underlying set $G$ acted on by left multiplication.
\end{ex}

\begin{ex}[$H^{1}:\textbf{Set} \to \textbf{Set}$]
\label{ex-set}
Let $1$ denote the set with just one element. The functor $1_{\textbf{Set}}$ is represented by the functor $H^{1}:\textbf{Set} \to \textbf{Set}$. To see this, let us first see what $H^{1}$ does and then show that it is naturally isomorphic to $1_{\textbf{Set}}$.

Let $B \in \textbf{Set}$, then $H^{1}(B) = \textbf{Set}(1, B) = \{  b:1 \to B \}$ the set of functions from the singleton set to $B$ that pick out an element of $B$. In particular, $H^{1}(B) \cong B$. Let $p: 1 \to B$ and $g: B \to B'$, then $H^{1}(g) = \textbf{Set}(1, g): \textbf{Set}(1, B) \to \textbf{Set}(1, B')$ sends functions $p$ that pick out an element of $B$ to functions $g \circ p$ that pick out an element of $B'$.

So we have the parallel functors $H^{1}, 1_{\textbf{Set}}: \textbf{Set} \to \textbf{Set}$ and we know what they do. Now we construct a natural isomorphism $t: H^{1} \Rightarrow 1_{\textbf{Set}}$. We already have that $H^{1}(B) \cong B$, so the components of $t$ are the isomorphisms $t_{B}: H^{1}(B) \to B$ (and of course $t^{-1}_{B}: B \to H^{1}(B))$. Now we need to check that the naturality square below commutes:

\begin{equation*}
\begin{xy}
(0, 0)*+{H^{1}(B)}="h1b"; (30, 0)*+{H^{1}(B')}="h1bp"; (0, -30)*+{B}="b"; (30, -30)*+{B'}="bp";
{\ar "h1b";"h1bp"}?*!/_3mm/{H^{1}(g)}; {\ar "b";"bp"}?*!/^3mm/{1_{\textbf{Set}}(g)=g};
{\ar "h1b";"b"}?*!/^3mm/{t_{B}}; {\ar "h1bp";"bp"}?*!/_3mm/{t_{B'}};
\end{xy}
\end{equation*}

where $g: B \to B'$.

It is enough to consider an element $b: 1 \to B$ from $H^{1}(B)$. $b$ picks out an element of $B$, which we will also identify by $b(1) = b$. Going down from $H^{1}(B)$, $t_{B}(b: 1 \to B)$ gives us this element $b$, which is then sent by $g$ to some element of $B'$, say $b'$. On the other hand, going right from $H^{1}(B)$, $H^{1}(g)(b: 1 \to B) = g \circ b$ which gives us the map $b': 1 \to B'$ that picks out $g(b(1)) = b'$. Finally, $t_{B'}(b')$ is precisely this element $b'$ of $B'$. So in fact the naturality square commutes.

Hence $1_{\textbf{Set}}$ is represented by $H^{1}$.
\end{ex}

\begin{ex}[$H^{\textbf{1}}:\textbf{Cat} \to \textbf{Set}$]
Similarly to the example above, $\text{ob}:\textbf{Cat} \to \textbf{Set}$ which sends a small category to its underlying set of objects is represented by $H^{\textbf{1}}$ where $\textbf{1}$ is the one-object category. This is because when $\mathscr{B}$ is a category, $H^{\textbf{1}}(\mathscr{B}) = \textbf{Cat}(\textbf{1}, \mathscr{B})$ which picks out objects of $\mathscr{B}$ and is isomorphic to $\text{ob}\mathscr{B}$. The proof that these functors are naturally isomorphic is essentially the same as the one for $1_{\textbf{Set}}$ and $H^{1}$ in the example above.
\end{ex}

\subsection*{Adjoints and Representables}

Now we establish the claim that any set valued functor with a left adjoint is representable. We first prove the following lemma.

\begin{lem}
Let $\mathscr{A}, \mathscr{B}$ be locally small categories with functors $F:\mathscr{A} \to \mathscr{B}, G:\mathscr{B} \to \mathscr{A}$ such that $F \dashv G$. Fix $A \in \mathscr{A}$, then the functor \begin{equation*} \mathscr{A}(A, G(-)): \mathscr{B} \to \textbf{Set} \end{equation*} that is, the composition $\mathscr{B} \overset{G}{\to} \mathscr{A} \overset{H^{A}}{\to} \textbf{Set}$ is representable.
\end{lem}

\begin{proof}
Because $F \dashv G$, we have the isomorphism $t^{-1}_{A,B}: \mathscr{A}(A, G(B)) \to \mathscr{B}(F(A), B)$ for each $B \in \mathscr{B}$. Now $H^{F(A)}$ maps $B$ to $\mathscr{B}(F(A),B)$, and it maps a morphism $g: B \to B'$ to $\mathscr{B}(F(A),g):\mathscr{B}(F(A),B) \to \mathscr{B}(F(A),B')$. So we suspect that the isomorphisms $t^{-1}_{A,B}$ gives rise to the natural isomorphism $t^{-1}:\mathscr{A}(A,G(-)) \Rightarrow H^{F(A)}$. We show that this is in fact the case.

We need to check naturality. Let $g:B \to B'$. We need to check that the following naturality square commutes:

\begin{equation*}
\begin{xy}
(0,0)*+{\mathscr{A}(A, G(B))}="v1"; (60,0)*+{\mathscr{A}(A, G(B'))}="v2"; (0,-30)*+{\mathscr{B}(F(A), B)}="v3"; (60,-30)*+{\mathscr{B}(F(A), B')}="v4";
{\ar "v1";"v2"}?*!/_5mm/{\mathscr{A}(A, Gg)=H^{A}(Gg)};
{\ar "v1";"v3"}?*!/^5mm/{t^{-1}_{A,B}};
{\ar "v2";"v4"}?*!/_5mm/{t^{-1}_{A,B'}};
{\ar "v3";"v4"}?*!/^5mm/{H^{F(A)}(g)};
\end{xy}
\end{equation*}

It suffices to consider a map $f: A \to G(B)$ from $\mathscr{A}(A,G(B))$ as it travels around the diagram. Going down from $\mathscr{A}(A,G(B))$, $t^{-1}_{A,B}(f:A \to G(B))$ is a map $t^{-1}_{A,B}(f):F(A) \to B$, and then $H^{F(A)}(g)(t^{-1}_{A,B}) = g \circ t^{-1}_{A,B}$ which is a map from $F(A)$ to $B'$. On the other hand, going right from $\mathscr{A}(A,G(B))$, $H^{A}(Gg)(f:A \to G(B)) = Gg \circ f$ which is a map from $A$ to $G(B')$ and then $t^{-1}_{A,B'}(Gg \circ f)$ is a map from $F(A)$ to $B'$. So the question is whether $t^{-1}_{A,B'}(Gg \circ f) = g \circ t^{-1}_{A,B}(f)$, but that is precisely what it means for $t^{-1}$ to be natural with respect to $B$ (See \cite{liu_adjoints_2018}), so in fact $\mathscr{A}(A,G(-)) \cong H^{F(A)}$ and is therefore representable.
\end{proof}

Now we are ready to prove the main claim of this subsection:

\begin{theo}
Any set-valued functor that has a left adjoint is representable.
\end{theo}

\begin{proof}
Let $G:\mathscr{A}\to\textbf{Set}$ be a functor with left adjoint $F$. Let $1$ denote the set with a single element. For all $A \in \mathscr{A}$, $G(A)$ is a set and by example \ref{ex-set} above, $H^{1}(G(A)) = \textbf{Set}(1, G(A)) \cong G(A)$ naturally in $A$ where $H^{1}$ is our functor from $\textbf{Set}$ to $\textbf{Set}$ in example \ref{ex-set} above. So $G \cong \textbf{Set}(1, G(-))$ and by the lemma above, this means $G$ is representable.
\end{proof}

\subsection*{Maps Between Representable Functors}

\begin{prop}
Let $f:A' \to A$, then $f$ induces a natural transformation $H^{f}: H^{A} \Rightarrow H^{A'}$ with components $H^{f}_{B}:H^{A}(B) \to H^{A'}(B)$ so that a map $p:A \to B$ in $H^{A}(B)$ gets mapped via precomposition with $f$ to $p \circ f: A' \to B$.
\end{prop}

\begin{proof}
We need to show that this map $H^{f}$ is indeed a natural transformation. Let $g:B\to B'$. This means checking that the naturality square:

\begin{equation*}
\begin{xy}
(0,0)*+{H^{A}(B)}="v1";(30,0)*+{H^{A}(B')}="v2";(0,-30)*+{H^{A'}(B)}="v3";(30,-30)*+{H^{A'}(B')}="v4";
{\ar "v1";"v2"}?*!/_4mm/{H^{A}(g)};
{\ar "v1";"v3"}?*!/^4mm/{H^{f}_{B}};
{\ar "v2";"v4"}?*!/_4mm/{H^{f}_{B'}};
{\ar "v3";"v4"}?*!/^4mm/{H^{A'}(g)};
\end{xy}
\end{equation*}

commutes.

It is sufficient to consider a map $p:A \to B$ in $H^{A}(B)$ as it travels around the square. Going down, we have first $H^{f}_{B}(p) = p \circ f$, and then to the right we have $H^{A'}(g)(p \circ f) = g \circ (p \circ f)$. Going to the right we have $H^{A}(g)(p) = g \circ p$, and then going down we have $H^{f}_{B'}(g \circ p) = (g \circ p) \circ f$. However, since morphism composition is associative, these two things are equal and so the square indeed commutes.
\end{proof}

\nocite{*}
\bibliographystyle{alpha}
\bibliography{refyoneda}

\end{document}